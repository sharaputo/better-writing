"use strict";!function(){const e=document.querySelector(".header");window.onscroll=()=>{window.pageYOffset>40?e.classList.add("active"):e.classList.remove("active")}}();let popup=document.querySelector(".popup");if(popup){new HystModal({linkAttributeName:"data-hystmodal"})}document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#contact_form"),t=document.querySelector("#contact_success"),o=document.querySelector(".popup__error");e.addEventListener("submit",(async function(n){n.preventDefault();let s=function(e){let t=0,o=document.querySelectorAll("._req");for(let e=0;e<o.length;e++){const n=o[e];n.classList.contains("_email")?i(n)&&(a(n),t++):n.classList.contains("_phone")?u(n)&&(a(n),t++):""===n.value&&(a(n),t++),n.onfocus=function(){r(n)}}return t}(),c=new FormData(e);if(0===s){let n=await fetch("sendmail.php",{method:"POST",body:c});if(n.ok){await n.json();o.classList.remove("_active"),e.reset(),t.classList.add("active")}else alert("Error!")}else o.classList.add("_active");function a(e){e.classList.add("_error")}function r(e){e.classList.remove("_error")}function i(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}function u(e){return!/^[0-9]+$/.test(e.value)}}))}));