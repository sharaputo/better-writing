"use strict";!function(){const e=document.querySelector(".header");window.onscroll=()=>{window.pageYOffset>40?e.classList.add("active"):e.classList.remove("active")}}();let popup=document.querySelector(".popup");if(popup){new HystModal({linkAttributeName:"data-hystmodal"})}document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#contact_form"),t=document.querySelector("#contact_success"),n=document.querySelector(".popup__error");e.addEventListener("submit",(async function(o){o.preventDefault();let s=function(e){let t=0,n=document.querySelectorAll("._req");for(let e=0;e<n.length;e++){const o=n[e];o.classList.contains("_email")?l(o)&&(c(o),t++):o.classList.contains("_phone")?r(o)&&(c(o),t++):""===o.value&&(c(o),t++),o.onfocus=function(){a(o)}}return t}(),i=new FormData(e);if(0===s){let o=await fetch("sendmail.php",{method:"POST",body:i});if(o.ok){await o.json();n.classList.remove("_active"),e.reset(),t.classList.add("active")}else alert("Error!")}else n.classList.add("_active");function c(e){e.classList.add("_error")}function a(e){e.classList.remove("_error")}function l(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}function r(e){return!/^[0-9]+$/.test(e.value)}}))}));const animItems=document.querySelectorAll(".animItem");if(animItems.length>0){function animOnScroll(e){for(let e=0;e<animItems.length;e++){const t=animItems[e],n=t.offsetHeight,o=offset(t).top,s=4;let i=window.innerHeight-n/s;n>window.innerHeight&&(i=window.innerHeight-window.innerHeight/s),pageYOffset>o-i&&pageYOffset<o+n?t.classList.add("active"):t.classList.contains("noRepeat")||t.classList.remove("active")}}function offset(e){const t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+n}}window.addEventListener("scroll",animOnScroll),setTimeout((()=>{animOnScroll()}),400)}